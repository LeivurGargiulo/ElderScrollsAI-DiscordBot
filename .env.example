# =============================================================================
# Elder Scrolls Lore Bot - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# =============================================================================

# =============================================================================
# REQUIRED: Discord Bot Configuration
# =============================================================================
# Get your Discord bot token from https://discord.com/developers/applications
DISCORD_TOKEN=your_discord_bot_token_here
DISCORD_APPLICATION_ID=your_application_id_here

# =============================================================================
# REQUIRED: LLM Backend Configuration
# =============================================================================
# Choose your LLM backend: openrouter, ollama, or lm_studio
LLM_BACKEND=openrouter

# =============================================================================
# OpenRouter Configuration (Recommended)
# =============================================================================
# Get your API key from https://openrouter.ai/
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_MODEL=anthropic/claude-3.5-sonnet
OPENROUTER_MAX_TOKENS=1000
OPENROUTER_TEMPERATURE=0.7

# =============================================================================
# Ollama Configuration (Local)
# =============================================================================
# Install Ollama from https://ollama.ai/
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2
OLLAMA_TIMEOUT=60

# =============================================================================
# LM Studio Configuration (Local)
# =============================================================================
# Download LM Studio from https://lmstudio.ai/
LM_STUDIO_BASE_URL=http://localhost:1234
LM_STUDIO_MODEL=default
LM_STUDIO_TIMEOUT=60

# =============================================================================
# Security Configuration
# =============================================================================
# Security levels: low, medium, high
# - LOW: No restrictions, logs all activity
# - MEDIUM: Standard rate limiting, logs suspicious activity  
# - HIGH: Guild allowlisting required, strict rate limiting
SECURITY_LEVEL=medium

# Comma-separated list of allowed guild IDs (required for HIGH security)
# Get guild ID by enabling Developer Mode in Discord and right-clicking the server
ALLOWED_GUILDS=guild_id1,guild_id2,guild_id3

# Comma-separated list of blocked user IDs
BLOCKED_USERS=user_id1,user_id2

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
# User rate limiting (requests per user per window)
USER_RATE_LIMIT=5
USER_RATE_WINDOW=60.0

# Guild rate limiting (requests per guild per window)
GUILD_RATE_LIMIT=20
GUILD_RATE_WINDOW=60.0

# General request settings
REQUEST_DELAY=1.0
MAX_RETRIES=3
REQUEST_TIMEOUT=30

# =============================================================================
# Bot Timeout Settings
# =============================================================================
# Timeouts for various operations (in seconds)
SEARCH_TIMEOUT=45.0
LLM_TIMEOUT=30.0
BOT_STARTUP_TIMEOUT=60.0

# =============================================================================
# Retry Configuration
# =============================================================================
# Retry settings for failed operations
MAX_RETRY_ATTEMPTS=2
RETRY_BASE_DELAY=1.0
RETRY_MAX_DELAY=10.0

# =============================================================================
# Search Configuration
# =============================================================================
# Dataset and search settings
DATASET_NAME=RoyalCities/Elder_Scrolls_Wiki_Dataset
EMBEDDING_MODEL=all-MiniLM-L6-v2
TOP_K_RESULTS=3
MAX_SEARCH_RESULTS=5
MIN_CONTENT_LENGTH=100
MAX_CONTENT_LENGTH=2000
MAX_QUESTION_LENGTH=500

# =============================================================================
# Cache Configuration
# =============================================================================
# Cache settings for performance optimization
CACHE_MAX_SIZE=500
CACHE_DEFAULT_TTL=600
CACHE_RESPONSE_TTL=1800

# =============================================================================
# Performance Configuration
# =============================================================================
# Performance and memory management
MAX_MESSAGE_HISTORY=1000
MAX_ERROR_LOG_SIZE=100
MAX_PERFORMANCE_METRICS=100

# =============================================================================
# Logging Configuration
# =============================================================================
# Logging levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FILE=discord_bot.log
LOG_MAX_SIZE=10485760
LOG_BACKUP_COUNT=5

# =============================================================================
# File Paths
# =============================================================================
# Directory paths for bot data
CONFIG_DIR=./config
DATA_DIR=./data
LOGS_DIR=./logs

# =============================================================================
# Vector Search Configuration
# =============================================================================
# FAISS index and embeddings file paths
FAISS_INDEX_PATH=elder_scrolls_index.faiss
EMBEDDINGS_PATH=elder_scrolls_embeddings.npy
TEXTS_PATH=elder_scrolls_texts.json

# =============================================================================
# Online Search Configuration
# =============================================================================
# API endpoints for online search
UESP_API_BASE_URL=https://en.uesp.net/api.php
UESP_SEARCH_URL=https://en.uesp.net/wiki
WIKIPEDIA_API_BASE_URL=https://en.wikipedia.org/api/rest_v1

# =============================================================================
# User Agent
# =============================================================================
# User agent string for web requests
USER_AGENT=ElderScrollsLoreBot/2.0 (Educational Bot; +https://github.com/elder-scrolls-lore-bot)

# =============================================================================
# Example Configurations
# =============================================================================

# For development/testing (minimal configuration):
# DISCORD_TOKEN=your_token
# LLM_BACKEND=openrouter
# OPENROUTER_API_KEY=your_key
# SECURITY_LEVEL=low

# For production (secure configuration):
# DISCORD_TOKEN=your_token
# LLM_BACKEND=openrouter
# OPENROUTER_API_KEY=your_key
# SECURITY_LEVEL=high
# ALLOWED_GUILDS=guild_id1,guild_id2
# USER_RATE_LIMIT=3
# GUILD_RATE_LIMIT=10

# For local development with Ollama:
# DISCORD_TOKEN=your_token
# LLM_BACKEND=ollama
# OLLAMA_MODEL=llama2
# SECURITY_LEVEL=low